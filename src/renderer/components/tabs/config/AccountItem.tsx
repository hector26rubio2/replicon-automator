import { useState, memo } from 'react';import type { AccountItemProps } from './ConfigTab.types';import { getSpecialAccountLabel } from './ConfigTab.utils';import { useTranslation } from '@/i18n';export default memo(function AccountItem({ code, account, onRemove, onAddProject }: AccountItemProps) {  const { t } = useTranslation();  const [isExpanded, setIsExpanded] = useState(false);  const [newProjectCode, setNewProjectCode] = useState('');  const [newProjectName, setNewProjectName] = useState('');  const handleAdd = () => {    if (newProjectCode && newProjectName) {      onAddProject(newProjectCode.toUpperCase(), newProjectName);      setNewProjectCode('');      setNewProjectName('');    }  };  const specialLabel = getSpecialAccountLabel(code);  const isSpecial = Boolean(specialLabel);  return (    <div className={`border rounded-lg overflow-hidden ${isSpecial ? 'border-amber-500/50 dark:border-amber-700/50' : 'border-gray-200 dark:border-slate-700'}`}>      <div        className={`flex items-center justify-between p-3 cursor-pointer hover:bg-gray-100 dark:hover:bg-slate-800/50 transition-colors ${isSpecial ? 'bg-amber-50 dark:bg-amber-900/20' : 'bg-gray-50 dark:bg-dark-200'}`}        onClick={() => setIsExpanded(!isExpanded)}      >        <div className="flex items-center gap-3">          <span className="text-primary-600 dark:text-primary-400 font-mono font-bold">{code}</span>          <span className="text-gray-700 dark:text-slate-300">{account.name}</span>          {isSpecial && (            <span className="text-xs bg-amber-500 dark:bg-amber-600 text-white px-2 py-0.5 rounded">{specialLabel}</span>          )}          <span className="text-gray-400 dark:text-slate-500 text-sm">({Object.keys(account.projects).length} {t('accountMapping.projects')})</span>        </div>        <div className="flex items-center gap-2">          <span className="text-gray-400 dark:text-slate-400">{isExpanded ? '‚ñº' : '‚ñ∂'}</span>          {!isSpecial && (            <button              onClick={(e) => {                e.stopPropagation();                onRemove();              }}              className="text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300 ml-2"              title={t('accountMapping.deleteAccount')}            >              üóëÔ∏è            </button>          )}        </div>      </div>      {isExpanded && (        <div className="p-3 bg-gray-100 dark:bg-dark-300/50 border-t border-gray-200 dark:border-slate-700">          {}          {Object.entries(account.projects).length > 0 ? (            <div className="space-y-2 mb-3">              {Object.entries(account.projects).map(([projCode, projName]) => (                <div key={projCode} className="flex items-center gap-2 text-sm">                  <span className="text-gray-500 dark:text-slate-400 font-mono w-12">{projCode}</span>                  <span className="text-gray-400 dark:text-slate-300">‚Üí</span>                  <span className="text-gray-900 dark:text-white">{projName || t('accountMapping.empty')}</span>                </div>              ))}            </div>          ) : (            <p className="text-gray-400 dark:text-slate-500 text-sm mb-3">{t('accountMapping.noProjects')}</p>          )}          {}          <div className="flex gap-2 pt-2 border-t border-gray-200 dark:border-slate-700">            <input              type="text"              value={newProjectCode}              onChange={(e) => setNewProjectCode(e.target.value.toUpperCase())}              placeholder={t('accountMapping.projectCode')}              className="w-20 text-sm bg-white dark:bg-dark-300 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-900 dark:text-white"              onClick={(e) => e.stopPropagation()}            />            <input              type="text"              value={newProjectName}              onChange={(e) => setNewProjectName(e.target.value)}              placeholder={t('accountMapping.projectName')}              className="flex-1 text-sm bg-white dark:bg-dark-300 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-900 dark:text-white"              onClick={(e) => e.stopPropagation()}            />            <button              onClick={(e) => {                e.stopPropagation();                handleAdd();              }}              disabled={!newProjectCode || !newProjectName}              className="btn btn-primary text-sm py-1"              aria-label={t('accountMapping.addProject')}            >              +            </button>          </div>        </div>      )}    </div>  );});